$("#product-modal").html("<%= escape_javascript(render :partial => 'task_details') %>")
$("#myModal").css("display","block");
$("#close").click(function(){
  $("#myModal").hide();
});
$( "#Do-request-form" ).submit(function( ) {
  $('#Do-request-form-response').html(" Requesting ...")
});
$( "#comment-form" ).submit(function( ) {
  debugger;
  $('#task_comment_body').val('');
});
$('.hide-input').hide()
$("#loading-mask1").hide();
$('a[name=delete_attachment]').click(function() {
  //alert($(this).attr('id'));
  var id= $(this).attr('id')
  $.ajax({
    url: "/task_attachments/destroy_attachment",
    type: "post", //send it through get method
    data:{id:id},
    success: function(response) {
      if( response== true )
      {
        alert('Successfully destroy ');
        location.reload();}
      else
      {
        alert('You are not authorized  to remove');
      }
    },
    error: function(xhr) {
      alert('You are not authorized  to remove');
    }
  });
});
$('input[id^=file]').hide();
$('.fa-paperclip, .attachment').click(function () {
  console.log(this);
  $(this).closest('form').find('input[id^=file]').click();
})

$("#task-title" ).dblclick(function() {
  $(this).hide();
  $("#task-update-title-form").show();
  $("#input-task-title").show();
  $("#task-update-title").hide();
  $("#task-update-title").next().hide();

});
$("#task-description" ).dblclick(function() {
  $(this).hide();
  $("#task-update-description-form").show();
  $("#input-task-description").show();
  $("#task-update-description").hide();
  $("#task-update-description").next().hide();

});
$("#task-condition" ).dblclick(function() {
  $(this).hide();
  $("#task-update-condition-form").show();

  $("#input-task-condition").show();
  $("#task-update-condition").hide();
  $("#task-update-condition").next().hide();

});
$("#task-proof" ).dblclick(function() {
  $(this).hide();
  $("#task-update-proof-form").show();

  $("#input-task-proof").show();
  $("#task-update-proof").hide();
  $("#task-update-proof").next().hide();

});

$('#input-task-title').keypress(function (e) {
  if (e.which == 13) {
    debugger
    //$('#task-update-form').submit();
    $("#task-update-title").click();
    $("#task-update-title-form").hide();
    $("#task-title").show();
  }
});

$('#input-task-description').keypress(function (e) {
  if (e.which == 13) {

    //$('#task-update-form').submit();
    $("#task-update-description").click();
    $("#task-update-description-form").hide();
    $("#task-description").show();
  }
});
$('#input-task-proof').keypress(function (e) {
  if (e.which == 13) {

    //$('#task-update-form').submit();
    $("#task-update-proof").click();
    $("task-update-proof-form").hide();
    $("#task-proof").show();
  }
});
$('#input-task-condition').keypress(function (e) {
  if (e.which == 13) {
    debugger
    //$('#task-update-form').submit();
    $("#task-update-condition").click();
    $("#task-update-condition-form").hide();
    $("#task-condition").show();
  }
});
  // Get the modal
  var modalinvite = document.getElementById('InviteModel');

  // Get the button that opens the modal
  var btninvite = document.getElementById("invbtn");

  // Get the <span> element that closes the modal
  var spaninvite = document.getElementById("inviteclose");

  // When the user clicks the button, open the modal
  btninvite.onclick = function() {
      modalinvite.style.display = "block";
      }

  // When the user clicks on <span> (x), close the modal
    spaninvite.onclick = function() {
        modalinvite.style.display = "none";
        }



  // Get the modal
  var modalshare = document.getElementById('share');

  // Get the button that opens the modal
  var btnshare = document.getElementById("sharebtn");

  // Get the <span> element that closes the modal
  var spanshare = document.getElementById("shareclose");

  // When the user clicks the button, open the modal
  btnshare.onclick = function() {
      modalshare.style.display = "block";
      }

  // When the user clicks on <span> (x), close the modal
    spanshare.onclick = function() {
        modalshare.style.display = "none";
        }

    // When the user clicks anywhere outside of the modal, close it


  // Get the modal
  var modalteam = document.getElementById('team');

  // Get the button that opens the modal
  var btnteam = document.getElementById("teambtn");

  // Get the <span> element that closes the modal
  var spanteam = document.getElementById("teamclose");

  // When the user clicks the button, open the modal
  btnteam.onclick = function() {
      modalteam.style.display = "block";
      }

  // When the user clicks on <span> (x), close the modal
    spanteam.onclick = function() {
        modalteam.style.display = "none";
        }

    // When the user clicks anywhere outside of the modal, close it


// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementById("myModalclose");

// When the user clicks on the button, open the modal
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it


// Get the modal
var modal2 = document.getElementById('myModal2');

// Get the button that opens the modal
var btn2 = document.getElementById("myBtn2");

// Get the <span> element that closes the modal
var span2 = document.getElementById("myModal2close");

// When the user clicks on the button, open the modal
btn2.onclick = function() {
  modal2.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span2.onclick = function() {
  modal2.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close i
document.getElementById("popup-for-free-paidclose").onclick = function() {
  $("#popup-for-free-paid").hide();
}


// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
  if (event.target == modalinvite) {
    modalinvite.style.display = "none";
  }
  if (event.target == modalshare) {
    modalshare.style.display = "none";
  }
  if (event.target == modalteam) {
    modalteam.style.display = "none";
  }
  if (event.target == modal2) {
    modal2.style.display = "none";
  }
}



  function setpaid() {
    debugger
    //$("# popup-for-free-paidclose")
    $("#cover-leter-header-text").html("");
    $("#cover-leter-header-text").html("You will do this task for Compensation");

    document.getElementById("do_request_free").value= "false";
    $("#popup-for-free-paid").show();

   // x.style.display = "block";


  }
  function setfree() {
    debugger
    $("#cover-leter-header-text").html("");
    document.getElementById("do_request_free").value= "true";
    $("#cover-leter-header-text").html("You will do this task for FREE");
    $("#popup-for-free-paid").show();

    //x=$("#popup-for-free-paid");

    //x.style.display = "block";

  }
