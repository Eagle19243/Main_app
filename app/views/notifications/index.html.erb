<link href="/static/ManishNotifications/css/style.css" rel="stylesheet">

<% content_for :title do %>
  My notifications
<% end %>

<div class="row expanded" data-equalizer data-equalizer-mq="large-up">
  <%= render 'users/sidebar' %>
  <div class="small-12 medium-10 columns" data-equalizer-watch>
    <div class="content notifications-container">
      <ul>
        <% @notifications.each do |notification| %>
          <li>
            <%= render partial: "notifications/#{notification.source_model_type.underscore}/#{notification.action}",
                       layout: "notification_layout",
                       locals: { notification: notification }
            %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>

<script>
  $(function() {
    JsonFormsHelper.InitializeNotificationsControls();
    $(".notifications-container").scrollTop($(".notifications-container")[0].scrollHeight);
  });
</script>

<style>
    .notifications-container {
      overflow-y: auto;
      height: 80vh;
    }
</style>